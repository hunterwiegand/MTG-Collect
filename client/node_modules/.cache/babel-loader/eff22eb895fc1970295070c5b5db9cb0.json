{"ast":null,"code":"import _defineProperty from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"c:\\\\Users\\\\Sadlungs\\\\Desktop\\\\Projects\\\\MTG-Collect\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import axios from'axios';var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(){var _this;_classCallCheck(this,LoginForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginForm).call(this));_this.state={username:'',password:'',redirectTo:null};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginForm,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();console.log('handleSubmit');axios.post('/user/login',{username:this.state.username,password:this.state.password}).then(function(response){console.log('login response: ');console.log(response);if(response.status===200){// update App.js state\n_this2.props.updateUser({loggedIn:true,username:response.data.username});// update the state to redirect to home\n_this2.setState({redirectTo:'/'});}}).catch(function(error){console.log('login error: ');console.log(error);});}},{key:\"render\",value:function render(){if(this.state.redirectTo){return React.createElement(Redirect,{to:{pathname:this.state.redirectTo}});}else{return React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Login\"),React.createElement(\"form\",{className:\"form-horizontal\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"div\",{className:\"col-1 col-ml-auto\"},React.createElement(\"label\",{className:\"form-label\",htmlFor:\"username\"},\"Username\")),React.createElement(\"div\",{className:\"col-3 col-mr-auto\"},React.createElement(\"input\",{className:\"form-input\",type:\"text\",id:\"username\",name:\"username\",placeholder:\"Username\",value:this.state.username,onChange:this.handleChange}))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"div\",{className:\"col-1 col-ml-auto\"},React.createElement(\"label\",{className:\"form-label\",htmlFor:\"password\"},\"Password: \")),React.createElement(\"div\",{className:\"col-3 col-mr-auto\"},React.createElement(\"input\",{className:\"form-input\",placeholder:\"password\",type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange}))),React.createElement(\"div\",{className:\"form-group \"},React.createElement(\"div\",{className:\"col-7\"}),React.createElement(\"button\",{className:\"btn btn-primary col-1 col-mr-auto\",onClick:this.handleSubmit,type:\"submit\"},\"Login\"))));}}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["c:/Users/Sadlungs/Desktop/Projects/MTG-Collect/client/src/components/login-form.js"],"names":["React","Component","Redirect","axios","LoginForm","state","username","password","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","console","log","post","then","response","status","props","updateUser","loggedIn","data","catch","error","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios'\n\nclass LoginForm extends Component {\n    constructor() {\n        super()\n        this.state = {\n            username: '',\n            password: '',\n            redirectTo: null\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n  \n    }\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit(event) {\n        event.preventDefault()\n        console.log('handleSubmit')\n\n        axios\n            .post('/user/login', {\n                username: this.state.username,\n                password: this.state.password\n            })\n            .then(response => {\n                console.log('login response: ')\n                console.log(response)\n                if (response.status === 200) {\n                    // update App.js state\n                    this.props.updateUser({\n                        loggedIn: true,\n                        username: response.data.username\n                    })\n                    // update the state to redirect to home\n                    this.setState({\n                        redirectTo: '/'\n                    })\n                }\n            }).catch(error => {\n                console.log('login error: ')\n                console.log(error);\n                \n            })\n    }\n\n    render() {\n        if (this.state.redirectTo) {\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\n        } else {\n            return (\n                <div>\n                    <h4>Login</h4>\n                    <form className=\"form-horizontal\">\n                        <div className=\"form-group\">\n                            <div className=\"col-1 col-ml-auto\">\n                                <label className=\"form-label\" htmlFor=\"username\">Username</label>\n                            </div>\n                            <div className=\"col-3 col-mr-auto\">\n                                <input className=\"form-input\"\n                                    type=\"text\"\n                                    id=\"username\"\n                                    name=\"username\"\n                                    placeholder=\"Username\"\n                                    value={this.state.username}\n                                    onChange={this.handleChange}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <div className=\"col-1 col-ml-auto\">\n                                <label className=\"form-label\" htmlFor=\"password\">Password: </label>\n                            </div>\n                            <div className=\"col-3 col-mr-auto\">\n                                <input className=\"form-input\"\n                                    placeholder=\"password\"\n                                    type=\"password\"\n                                    name=\"password\"\n                                    value={this.state.password}\n                                    onChange={this.handleChange}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group \">\n                            <div className=\"col-7\"></div>\n                            <button\n                                className=\"btn btn-primary col-1 col-mr-auto\"\n                               \n                                onClick={this.handleSubmit}\n                                type=\"submit\">Login</button>\n                        </div>\n                    </form>\n                </div>\n            )\n        }\n    }\n}\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}